---
title: "ORDER BY in Window Functions"
output: github_document
---

## ORDER BY

```{sql eval=FALSE}
```

* ORDER BY is a subclause of OVER
* It orders the rows related to the current row that the window function will use. Taking the row numbering query, if you order by year in descending order within the OVER clause, the function will assign 1 to the first row in that window. That row will have the most recent year in the dataset.

## Reigning champion

*You can include R code in the document as follows:

* One of the applications of window functions is determining reigning champion status. A reigning champion is a champion who's won both the previous and current years' competitions. To determine if a champion is a reigning champion, the previous and the current years' champions need to be in the same row, in two different columns, so that they can be compared. How can you get a previous row's value without complex self-joins? 

* Enter `LAG`. `LAG` is a window function that takes a column and a number n and returns the column's value n rows before the current row. Passing 1 as n returns the previous row's value.


```{r cars}